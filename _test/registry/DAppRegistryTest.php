<?php
namespace tests\app\decibel\registry;

use app\decibel\Decibel;
use app\decibel\registry\DAppRegistry;
use app\decibel\test\DTestCase;
use PHPUnit_Framework_TestCase;

/**
 * Test class for DAppRegistry.
 * Generated by Decibel on 2011-10-31 at 14:12:38.
 */
class DAppRegistryTest extends PHPUnit_Framework_TestCase
{
    /**
     * @covers app\decibel\registry\DAppRegistry::load
     * @covers app\decibel\registry\DAppRegistry::__construct
     */
    public function testLoad()
    {
        $app = new Decibel();
        $appRegistry = DAppRegistry::load($app->setRelativePath(''));

        $this->assertInstanceOf(DAppRegistry::class, $appRegistry);

        $this->markTestIncomplete(
            'This test has not been implemented yet.'
        );

        $this->assertSame(DECIBEL_PATH . 'Decibel.registry', $appRegistry->getFilename());
    }

    /**
     * @covers app\decibel\registry\DAppRegistry::canRebuild
     */
    public function testCanRebuild()
    {
        $app = new Decibel();
        $appRegistry = DAppRegistry::load($app->setRelativePath(''));
        $this->assertTrue($appRegistry->canRebuild());
    }

    /**
     * @covers app\decibel\registry\DAppRegistry::getApp
     */
    public function testGetApp()
    {
        $app = new Decibel();
        $app = $app->setRelativePath('');
        $appRegistry = DAppRegistry::load($app);

        $this->assertSame($app, $appRegistry->getApp());
    }
}
