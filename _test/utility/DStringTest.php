<?php
namespace tests\app\decibel\utility;

use app\decibel\test\DTestCase;
use app\decibel\utility\DString;

/**
 * Test class for DString.
 * Generated by Decibel on 2011-10-31 at 14:13:35.
 */
class DStringTest extends DTestCase
{
    /**
     * @covers app\decibel\utility\DString::namedEntitiesToDecimal
     * @todo   Implement testnamedEntitiesToDecimal().
     */
    public function testnamedEntitiesToDecimal()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
            'This test has not been implemented yet.'
        );
    }

    /**
     * @covers app\decibel\utility\DString::singleQuoteSlashes
     * @todo   Implement testsingleQuoteSlashes().
     */
    public function testsingleQuoteSlashes()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
            'This test has not been implemented yet.'
        );
    }

    /**
     * @covers app\decibel\utility\DString::spacify
     */
    public function testspacify()
    {
        $this->assertSame('AAA', DString::spacify('AAA'));
        $this->assertSame('a AAA', DString::spacify('aAAA'));
        $this->assertSame('Aa AA', DString::spacify('AaAA'));
        $this->assertSame('A^ AA', DString::spacify('A^AA'));
        $this->assertSame('A^ Aa A', DString::spacify('A^AaA'));
    }

    /**
     * @covers app\decibel\utility\DString::stripHtml
     */
    public function teststripHtml()
    {
        $html = '<h1><strong>The Challenge</strong></h1><p>To help one of the UK&rsquo;s top professional services companies maintain their position as thought-leaders and build a captive audience through insightful, illuminating and sharable content.</p><h3><strong>The Context</strong></h3><p>The <a title="Deloitte News in Focus" href="http://www.deloitte.com/view/en_GB/uk/news/news-in-focus/index.htm" target="_blank">&lsquo;News in Focus&rsquo;</a> hub is part of Delotte&rsquo;s brand strategy to maintain their position as a thought leader, attracting an affluent, professional audience looking to keep up-to-speed with retail, technology, financial services industry news and trends.</p><p>Deloitte was looking to build profile through links and sharing of the content assets. They had an objective to increase traffic to the media section of their site and increase its authority.&nbsp;<br /><br /><img id="VisionCMS_Asset_8afab2c9322c32de3d90c6eab95462f5" style="float: left;" src="/assets/Images/CaseStudy_Deloitte_NewsinFocus.png?1386093237" alt="" width="711" height="346" /></p><p>&nbsp;</p><p>&nbsp;</p>';
        $this->assertEquals(
            'The Challenge To help one of the UK’s top professional services companies maintain their position as thought-leaders and build a captive audience through insightful, illuminating and sharable content. The Context The ‘News in Focus’ hub is part of Delotte’s brand strategy to maintain their position as a thought leader, attracting an affluent, professional audience looking to keep up-to-speed with retail, technology, financial services industry news and trends. Deloitte was looking to build profile through links and sharing of the content assets. They had an objective to increase traffic to the media section of their site and increase its authority.',
            DString::stripHtml($html)
        );
        $this->assertEquals(
            'The Challenge To help one of the UK’s top professional services companies maintain their position as thought-leaders and build a captive audience through insightful, illuminating and sharable content. The Context The ‘News in Focus’ [http://www.deloitte.com/view/en_GB/uk/news/news-in-focus/index.htm] hub is part of Delotte’s brand strategy to maintain their position as a thought leader, attracting an affluent, professional audience looking to keep up-to-speed with retail, technology, financial services industry news and trends. Deloitte was looking to build profile through links and sharing of the content assets. They had an objective to increase traffic to the media section of their site and increase its authority.',
            DString::stripHtml($html, array(
                'keepLinks' => true,
            ))
        );
        $this->assertEquals(
            "The Challenge\n\nTo help one of the UK’s top professional services companies maintain their position as thought-leaders and build a captive audience through insightful, illuminating and sharable content.\nThe Context\n\nThe ‘News in Focus’ hub is part of Delotte’s brand strategy to maintain their position as a thought leader, attracting an affluent, professional audience looking to keep up-to-speed with retail, technology, financial services industry news and trends.\n\nDeloitte was looking to build profile through links and sharing of the content assets. They had an objective to increase traffic to the media section of their site and increase its authority.",
            DString::stripHtml($html, array(
                'keepLineBreaks' => true,
            ))
        );
        $this->assertEquals(
            "The Challenge … To help one of the UK’s top professional services companies maintain their position as thought-leaders and build a captive audience through insightful, illuminating and sharable content. The Context … The ‘News in Focus’ hub is part of Delotte’s brand strategy to maintain their position as a thought leader, attracting an affluent, professional audience looking to keep up-to-speed with retail, technology, financial services industry news and trends. Deloitte was looking to build profile through links and sharing of the content assets. They had an objective to increase traffic to the media section of their site and increase its authority.",
            DString::stripHtml($html, array(
                'useEllipsis' => true,
            ))
        );
        $this->assertEquals(
            'To help one of the UK’s top professional services companies maintain their position as thought-leaders and build a captive audience through insightful, illuminating and sharable content. The Context The ‘News in Focus’ hub is part of Delotte’s brand strategy to maintain their position as a thought leader, attracting an affluent, professional audience looking to keep up-to-speed with retail, technology, financial services industry news and trends. Deloitte was looking to build profile through links and sharing of the content assets. They had an objective to increase traffic to the media section of their site and increase its authority.',
            DString::stripHtml($html, array(
                'discardH1Values' => true,
            ))
        );
    }

    /**
     * @covers app\decibel\utility\DString::textToUrl
     */
    public function testtextToUrl()
    {
        $this->assertSame('Kings-Queens', DString::textToUrl('Kings and Queens', '-'));
        $this->assertSame('Owen-Glendower-Owain-Glyndwr', DString::textToUrl('Owen Glendower (Owain Glyndwr)', '-'));
        $this->assertSame('Wales-Mercia-Harold-the-road-to-1066',
                          DString::textToUrl('Wales, Mercia, Harold and the road to 1066', '-'));
    }

    /**
     * @covers app\decibel\utility\DString::charLimit
     * @todo   Implement testcharLimit().
     */
    public function testcharLimit()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
            'This test has not been implemented yet.'
        );
    }

    /**
     * @covers app\decibel\utility\DString::wordLimit
     * @todo   Implement testwordLimit().
     */
    public function testwordLimit()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
            'This test has not been implemented yet.'
        );
    }

    /**
     * @covers app\decibel\utility\DString::implode()
     */
    public function testimplode_emptyArray()
    {
        $array = array();
        $result = DString::implode($array);
        $this->assertSame('', $result);
    }

    /**
     * @covers app\decibel\utility\DString::implode()
     */
    public function testimplode_arrayWithOneElement()
    {
        $array = array('a');
        $result = DString::implode($array);
        $this->assertSame('a', $result);
    }

    /**
     * @covers app\decibel\utility\DString::implode()
     */
    public function testimplode_arrayWithMoreThanOneElement()
    {
        $array = array('a', 'b', 'c');
        $result = DString::implode($array);
        $this->assertSame('a, b, c', $result);
    }

    /**
     * @covers app\decibel\utility\DString::implode()
     */
    public function testimplode_arrayWithTwoParameters()
    {
        $array = array('a', 'b', 'c');
        $result = DString::implode($array, ', ');
        $this->assertSame('a, b, c', $result);
    }

    /**
     * @covers app\decibel\utility\DString::implode()
     */
    public function testimplode_arrayWithThreeParameters()
    {
        $array = array('a', 'b', 'c');
        $result = DString::implode($array, ', ', ' & ');
        $this->assertSame('a, b & c', $result);
    }
}
